import{_ as x}from"./AdminNavComponent-FrgZ9gL2.js";import{_ as f}from"./CardComponent-9AHvbEoX.js";import{u as k}from"./book-t9Z8p0pt.js";import{k as v,r as u,o as h,l as y,a as s,c as a,b as n,e as l,w as m,F as b,d as w,i as _,t as B,m as L}from"./index-zlIGHKXK.js";import{L as C}from"./LoadingComponent-zVo0sGyu.js";import"./ButtonComponent-Rb31Mvhp.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const D={class:"flex gap-4"},$={key:0,class:"w-full"},A={key:1,class:"p-4"},S={class:"flex gap-2 justify-end mb-2"},V={class:"grid grid-cols-1 md:grid-cols-3 gap-1 bg-gray-100 mx-auto w-full container"},N={class:"flex gap-2 mx-8"},T=["onClick"],H={__name:"AdminBooksView",setup(E){const p=v.useToast(),d=k(),e=u([]),r=u("Delete"),g=async c=>{try{r.value="Deleting...";const i=localStorage.getItem("token"),t=await L.delete("/books/"+c,{headers:{Authorization:`Bearer ${i}`}});t.data.success&&(p.success(t.data.message),e.value=e.value.filter(o=>o.id!==c))}catch(i){console.log(i)}finally{r.value="Delete"}};return h(async()=>{await d.getAllBooks(),e.value=await d.getBooks}),(c,i)=>{const t=y("RouterLink");return s(),a("main",D,[n(x),e.value.length===0||e.value===null?(s(),a("div",$,[n(C)])):(s(),a("div",A,[l("div",S,[n(t,{to:"/admin/books/loans",class:"bg-primary-green text-white py-2 px-6 text-xs"},{default:m(()=>[_("Book Loans")]),_:1}),n(t,{to:"/admin/books/create",class:"bg-primary-orange text-white py-2 px-6 text-xs"},{default:m(()=>[_("Add Book")]),_:1})]),l("div",null,[l("div",V,[(s(!0),a(b,null,w(e.value,o=>(s(),a("div",{key:o.id},[n(f,{info:o},null,8,["info"]),l("div",N,[l("button",{class:"bg-red-500 text-white py-2 px-6 text-xs",onClick:F=>g(o.id)},B(r.value),9,T)])]))),128))])])]))])}}};export{H as default};
